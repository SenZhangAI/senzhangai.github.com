---
layout: post
title: "计算机相关技术瞎扯"
description: ""
keywords: computer
category: Programming
tags: [computer]
---

# 前言

试图用通俗的语言聊一聊计算机的相关知识体系，经可能把重点脉络和原理讲清楚，当然不可能面面俱到，也可能会用到不太准确但更通俗的说法。

# 计算机程序如何执行

## 高低电平映射到01序列，01序列映射到其他
计算机从硬件的角度来看只懂得0和1（高电平、低电平），
然后通过**与非门**等逻辑电路组成更复杂的支持加法或者乘法的运算单元，进行运算，

例如打个比方八根排线，假设0为低电平，1为高电平，`0000 0001`这个最右边的排线假设赋予其一个数字1的含义，
`0000 0010`这个右二为高电平的排序赋予数字2的含义（排线的高低电平 映射到 01序列 映射到 我们认识的整数），
那么`0000 0001`这个电信号与`0000 0010`这个电信号输入到由*与非门电路*组合而成的加法运算器中后，输出排线的电平为`0000 0011`于是得到数字3，
这里将`0000 0010`与2对应，以及其他对应整型数的方式比较流行的是补码，补码流行的原因是对正数、负数的累加都一样，就不用为了正数、负数单独设计累加器。

除了与非门构成的运算结构，还需要保存一些中间运算结果，硬件名字不记得了，总之是能贮存电平的单元，
运算和贮存，这几乎就是组成计算机的硬件的最基本的原理构架了。

## 01序列映射的其他例子

因为计算机只懂得高电平，低电平，或者说01序列，实际上，我们需要用01序列去表示所有需要的东西，

首先是整型数字，也就是补码，也就是一种01序列映射到整型的一个函数。

然后是字符串，最著名的是[ASCII](https://baike.baidu.com/item/ASCII/309296?fr=aladdin)编码，
例如将65(实际上对计算机而言是 `0100 0001`，65只是人比较好理解的十进制)映射为字母`A`，
所以当计算机看到`0100 0001`时，并且告诉计算机将其理解为ASCII字符时，计算机将其解读为字符`A`并执行接下来的操作，例如打印到屏幕上
（实际上是存储到某个特定的用于显示的内存区间）。
ASCII缺点在于位数太低，不能涵盖中日韩等字符，于是出现了unicode、UTF-8编码等，实际上就是对01序列不同的映射到字符的方式。

然后是浮点数来表示小数，通常采用IEEE-754标准。

而计算机的执行指令，也就是控制计算机对某个数字进行加法、乘法等运算的机器命令，也是01序列，其映射规则称为指令集，
例如[x86指令集](http://blog.csdn.net/liuzhen917/article/details/30465891)，也比较流行的是arm构架指令集。
这些指令集都有对应的，最原始的人可以读懂的方式，称为汇编语言。
注意到不同的机器，如果其指令集不一样，其汇编语言也不一样。

## 计算机如何运算

1. **取指**: 从指令的排线中，读取某一段指令序列。
2. **译码**: 判断要执行的操作，如果需要对数据进行运算还要从数据排线中读取数据（称为操作数）
3. **运算**: 执行运算，将输入数据输入到运算单元
4. **回写**: 保存运算后的数据，将其存到例如内存或者寄存器等地方

然后读取下一段指令序列，不断循环以上四个步骤。

这个操作的节奏很重要，因为都共用了同一个数据线，否则后面的信号可能跟前面的信号弄混了，
所以为了保证其时序性，加入一个高低高低高低这样脉动变化的信号作为同步的时钟，
通常说的CPU I5有3.5 GHz 也即是说的这个时钟的频率。

# 计算机语言
计算机只懂得0和1，控制计算机，也就是构成计算机能够执行的正确的01序列，如上所说的x86、ARM等指令集，
这些指令集的文本表示称为汇编语言，也就是最接近计算机指令，同时又映射成人可以读懂的语言。

但不同机器的汇编语言不一样，这样在一台机器上编写的代码，就不能在另外一台机器上跑，
尤其对于早期各类机器而言。

这时出现了一个对汇编语言的执行结构的某种通用的归纳（抽象），称为C语言，
这样每天机器虽然不同，但通过C语言的编译器编译成针对这台机器的汇编代码，再编译成指令集就可以控制机器了。
C语言的最大贡献是对汇编语言执行结构的合理的抽象，包括循环结构等等，
这样不同的机器都可以共用同一份代码，只要该机器上有C语言编译器就能执行。
之所以说合理的抽象是因为不合理的抽象缺乏通用性，可能这台机器汇编是这个方式可以用这个语言，
另一台汇编就对应不上这种缺乏通用性的语言，
所以总的来说C语言是对汇编的一层抽象，最接近汇编语言，所以执行效率很高且常用于系统编程。


