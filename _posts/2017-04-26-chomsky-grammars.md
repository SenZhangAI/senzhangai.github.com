---
layout: post
title: "[转]Chomsky四型文法"
description: "Chomsky grammars"
keywords: chomsky, grammars
category: Programming
tags: [grammars, parser]
---

## 前言

[什么是0型文法，1型文法，2型文法，3型文法？](http://www.iteye.com/topic/593981)

这篇文章对Chomsky的0型文法、1型文法、2型文法、3型文法总结的不错，故转载此贴并补充部分内容。

## 正文

乔姆斯基把方法分成四种类型，即0型、1型、2型和3型。

### 0型文法

```
设G=（VN，VT，P，S），如果它的每个产生式α→β是这样一种结构：

α∈(VN∪VT)*且至少含有一个非终结符，而β∈(VN∪VT)*，则G是一个0型文法。
```

0型文法也称短语文法。

一个非常重要的理论结果是：0型文法的能力相当于图灵机(Turing)。
或者说，任何0型文语言都是递归可枚举的， 反之，递归可枚举集必定是一个0型语言。

0型文法是这几类文法中，限制最少的一个，所以我们在试题中见到的,至少是0型文法。

### 1型文法

1型文法也叫上下文有关文法，此文法对应于线性有界自动机。

```
它是在0型文法的基础上每一个α→β,都有|β|>=|α|。这里的|β|表示的是β的长度。
```

注意：虽然要求|β|>=|α|，但有一特例：α→ε也满足1型文法。

如有A->Ba则|β|=2,|α|=1符合1型文法要求。反之,如aA->a，则不符合1型文法。

### 上下文相关(Context-Sensitive Grammar CSG)与上下文无关(Context-Free Grammar, CFG)
所谓上下文无关(参见[徐辰的知乎问答](https://www.zhihu.com/question/21833944))，
就是你只要找到符合产生式右边的串，就可以把它归约为对应的非终结符。

比如

```
aSb -> aaSbb
S -> ab
```

这就是上下文相关文法，因为它的第一个产生式左边有不止一个符号，

所以你在匹配这个产生式中的S的时候必需确保这个S有正确的“上下文”，
也就是左边的a和右边的b，所以叫上下文相关文法。

即我看到一个ab，我不能立刻推出一定是S，也可能是aSb，这就需要再结合上下文判断。

### 2型文法

2型文法也叫上下文无关文法，它对应于下推自动机。

2型文法是在1型文法的基础上, 再满足：

```
每一个α→β都有α是一个非终结符(non-terminal symbol)。
```

如A->Ba,符合2型文法要求。

如Ab->Bab 虽然符合1型文法要求,
但不符合2型文法要求，因为其α=Ab，而Ab不是一个非终结符。

### 3型文法

3型文法也叫正规文法，它对应于有限状态自动机。

```
它是在2型文法的基础上满足:A→α|αB（右线性）或A→α|Bα（左线性）。
且一个语法中，只能选择右线性或左线性的一个规则。
```

如有：A->a,A->aB,B->a,B->cB，则符合3型文法的要求。

但如果推导为:A->ab,A->aB,B->a,B->cB或推导为:A->a,A->Ba,B->a,B->cB则不符合3型方法的要求了。

具体的说，例子A->ab,A->aB,B->a,B->cB中的`A->ab`不符合3型文法的定义,

如果把后面的ab,改成“一个非终结符＋一个终结符”的形式（即为aB）就对了。

例子A->a,A->Ba,B->a,B->cB中如果把`B->cB`改为`B->Bc`的形式就对了,

因为A→α|αB（右线性）和A→α|Bα（左线性）两套规则不能同时出现在一个语法中,
只能完全满足其中的一个,才能算3型文法。
